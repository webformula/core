<h3 class="page-title">Localization</h3>

<section class="page-content-section">
  <nav class="links-nav" aria-label="page-content">
    <div class="wfc-font-headline-small page-secondary-header">Links</div>
    <ul class="links">
      <li><a href="#Localization">Localization</a></li>
    </ul>
  </nav>

  <div class="page-content-container">
    <wfc-card id="Localization">
      <div class="card-content">
        <div class="headline">Localization</div>
        <div class="supporting-text">Localization allows to configure multiple locales with local message configurations</div>
        <ul class="supporting-text">
          <li>Variables (Data is pulled from page variables)</li>
          <li>Pluralization</li>
          <li>Date formatting</li>
          <li>Number formatting</li>
          <li>Relative time formatting</li>
        </ul>
      </div>

      <div class="card-content">
        <div style="display: flex; flex-direction: column; width: 120px; margin-bottom: 12px;">
          <wfc-switch ${page.languagesChecked ? 'checked' : '' } onchange="page.changeLanguage(this.checked)">en / es</wfc-switch>
        </div>

        <div i18n>About</div>
        <div i18n>key_string</div>
        <div i18n count="1">item_count</div>
        <div i18n count="2">item_count</div>
        <div i18n>$time $minutes from now</div>
        <div i18n>date</div>
        <div i18n>currency</div>

        <wfc-textfield i18n-attr="label" label="Label" value="${page.currency}" oninput="page.currency = this.value"></wfc-textfield>
      </div>
    
      <pre>
        <code class="language-javascript" wfc-no-binding>
  ${page.escape(`import { i18n } from '@webformula/core';
  
  /* Set locale
   *   Defaults to browser if not set
   *   You can use language only locale 'en' and 'en-US'
   */
  i18n.locale = 'en-US';

  // turn on cache. This will load and save data to localStorage
  i18n.cache = true;

  // Load local messages
  i18n.loadMessages('en', en);
  i18n.loadMessages('es', es);`)}
        </code>
      </pre>

      <pre>
        <code class="language-html" wfc-no-binding>
  ${page.escape(`<!-- Add i18n attribute to an element to enable translations -->
  <div i18n>About</div>
  <div i18n>key_string</div>

  <!--
    you can set message variables as element attributes
    By default variables will be pulled from current page
  -->
  <div i18n count="1">item_count</div>
  <div i18n count="2">item_count</div>
  <div i18n>date</div>
  <div i18n>currency</div>

  <!-- You can use one of the languages messages as the key -->
  <div i18n>$time $minutes from now</div>
  
  <!-- Attribute binding -->
  <wfc-textfield i18n-attr="label" label="Label" value="${page.currency}"></wfc-textfield>
  
  <!-- Attribute binding multiple -->
  <div i18n-attr="one,two" one="one" two="two"></div>`)}
        </code>
      </pre>


      <pre>
        <code class="language-json" wfc-no-binding>
  ${page.escape(`// en
  { "About": "About",
    "key_string": "This is a key string",
    "item_count": {
      "message": "$count $item",
      "variables": {
        "item": {
          "type": "cardinal",
          "variable": "count",
          "zero": "items",
          "one": "item",
          "two": "items",
          "few": "items",
          "many": "items",
          "other": "items" } } },
    "place_ordinal": {
      "message": "$place$order",
      "variables": {
        "order": {
          "type": "ordinal",
          "variable": "place",
          "one": "st",
          "two": "nd",
          "few": "rd",
          "other": "th" } } },

    "$time $minutes from now": {
      "message": "$time $minutes from now",
      "variables": {
        "minutes": {
          "type": "cardinal",
          "variable": "time",
          "one": "minute",
          "other": "minutes" } } },
  "date": {
    "message": "$date",
    "variables": {
      "date": {
        "type": "date",
        "options": {
          "dateStyle": "short",
          "timeStyle": "short" } } } },
  "currency": {
    "message": "$currency",
    "variables": {
      "currency": {
        "type": "number",
        "options": {
          "style": "currency",
          "currency": "USD" } } } } }`)}
        </code>
      </pre>

      <pre>
        <code class="language-json" wfc-no-binding>
  ${page.escape(`// es
  { "About": "About",
    "key_string": "Esta es una cadena clave",
    "item_count": {
      "message": "$count $item",
      "variables": {
        "item": {
          "type": "cardinal",
          "variable": "count",
          "zero": "elementos",
          "one": "art√≠culo",
          "two": "elementos",
          "few": "elementos",
          "many": "elementos",
          "other": "elementos" } } },
    "place_ordinal": {
      "message": "$place$order",
      "variables": {
        "order": {
          "type": "ordinal",
          "variable": "place",
          "one": "er",
          "two": "do",
          "few": "er",
          "other": "to" } } },
    "$time $minutes from now": {
      "message": "$time $minutes desde ahora",
      "variables": {
        "minutes": {
          "type": "cardinal",
          "variable": "time",
          "one": "minuto",
          "other": "minutos" } } },
    "date": {
    "message": "$date",
    "variables": {
      "date": {
        "type": "date",
        "options": {
          "dateStyle": "short",
          "timeStyle": "short" } } } },
  "currency": {
    "message": "$currency",
    "variables": {
      "currency": {
        "type": "number",
        "options": {
          "style": "currency",
          "currency": "MXN" } } } } }`)}
        </code>
      </pre>
    </wfc-card>


    <wfc-card id="method">
      <div class="card-content">
        <div class="headline">Translate method</div>
        <div class="supporting-text">You can use the built in translate method to handle translations, if you do not want auto translations</div>
        <div class="supporting-text">You can also import the i18n module to interact with translate outside of pages</div>
      </div>
    
      <pre>
        <code class="language-javascript" wfc-no-binding>
  ${page.escape(`// use the built in translate method on pages
  <div>\${page.translate('Some other text')}</div>

  
  // directly interact with the module
  import { i18n } from '@webformula/core';
  console.log(i18n.translate('key'));`)}
        </code>
      </pre>
    </wfc-card>
  </div>
</section>
